{% extends 'profile_dashboard.html' %}
{% load static %}

{% block maincontent %}
<link rel ="stylesheet" type = "text/css" href ="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css"/>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
<script src = "https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>

<h2 class="text-center text-light display-5 " >My Order List</h2>
<div class="container">
    <div class="row">
        <div class="col">
            <table class=" table table-success table-striped-columns" id="myTable">
                <thead>
                    <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Product</th>
                    <th scope="col">Quantity</th>
                    <th scope="col">Price</th>
                    <th scope="col"> Total Price</th>
                    <th scope="col">Image</th>
                    <th scope="col">Is Pay</th>
                    </tr>
                </thead>
                <tbody>
                    {% for i in myorder  %}
                    <tr>
                    <th scope="row">{{i.id}}</th>
                    <td>{{i.product}}</td>
                    <td>{{i.quantity}}</td>
                    <td>{{i.price}}</td>
                    <td>{{i.total}}</td>
                    <td><img src="{{i.image}}" height="100px"  width="100px" alt="">
                    </td>
                    <td>
                        {% if i.is_pay %}
                        paid
                        {% else %}
                        <a href="{% url 'initkhalti' i.id %}">Pay with khalti</a>
                          
                        {% endif %}
                    </td>
                    </tr>
                  {% endfor %}
                  
                </tbody>
            </table>
        </div>
    </div>
</div>
{% if messages %}
  {% for message in messages %}
    <div class="alert alert-{{ message.tags }}">
      {{ message }}
    </div>
  {% endfor %}
{% endif %}

<script>
    let table = new DataTable('#myTable');
</script>
{% endblock maincontent %}
